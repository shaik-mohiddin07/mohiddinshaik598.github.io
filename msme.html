<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MSME Gas Agency - Online Cylinder Booking</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #333;
      min-height: 100vh;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    /* HEADER */
    header {
      background: rgba(0, 0, 0, 0.9);
      color: white;
      padding: 15px 0;
      position: sticky;
      top: 0;
      z-index: 1000;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
    }

    header .flex {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      font-size: 28px;
      font-weight: 700;
      color: #00d4ff;
    }

    nav a {
      color: white;
      text-decoration: none;
      margin-left: 30px;
      cursor: pointer;
      transition: color 0.3s;
    }

    nav a:hover { color: #00d4ff; }

    /* HERO */
    .hero {
      background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
      color: white;
      padding: 80px 0;
      text-align: center;
    }

    .hero h1 {
      font-size: 52px;
      margin-bottom: 20px;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    }

    .hero p {
      font-size: 20px;
      margin-bottom: 30px;
      opacity: 0.95;
    }

    .hero-buttons {
      display: flex;
      gap: 20px;
      justify-content: center;
      flex-wrap: wrap;
    }

    /* BUTTONS */
    .btn {
      padding: 12px 30px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      transition: all 0.3s;
      text-decoration: none;
      display: inline-block;
      font-weight: 600;
    }

    .btn-primary {
      background: #00d4ff;
      color: #1e3c72;
    }

    .btn-primary:hover {
      background: #00b8d4;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0, 212, 255, 0.4);
    }

    .btn-secondary {
      background: #ff6b9d;
      color: white;
    }

    .btn-secondary:hover {
      background: #ff5285;
      transform: translateY(-2px);
    }

    .btn-danger { background: #ff4757; color: white; }

    /* SECTIONS */
    .section {
      background: white;
      padding: 60px 0;
      margin: 20px 0;
      border-radius: 12px;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
      display: none;
    }

    .section.active { display: block; }

    .section h2 {
      text-align: center;
      font-size: 36px;
      margin-bottom: 40px;
      color: #1e3c72;
    }

    /* FEATURES */
    .features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 30px;
    }

    .feature-card {
      background: #f8f9fa;
      padding: 30px;
      border-radius: 10px;
      text-align: center;
      transition: transform 0.3s, box-shadow 0.3s;
      border-left: 4px solid #00d4ff;
    }

    .feature-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
    }

    .feature-icon {
      font-size: 40px;
      margin-bottom: 15px;
    }

    .feature-card h3 {
      margin-bottom: 10px;
      color: #1e3c72;
    }

    /* AUTH */
    .auth-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 30px;
      margin: 20px 0;
    }

    .auth-box {
      background: white;
      padding: 40px;
      border-radius: 12px;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
      border-top: 4px solid #00d4ff;
    }

    .auth-box h2 {
      color: #1e3c72;
      margin-bottom: 25px;
      text-align: center;
    }

    .form-group { margin-bottom: 20px; }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: #333;
    }

    .form-group input,
    .form-group textarea,
    .form-group select {
      width: 100%;
      padding: 12px;
      border: 2px solid #e0e0e0;
      border-radius: 6px;
      font-size: 14px;
      transition: border-color 0.3s;
    }

    .form-group input:focus,
    .form-group textarea:focus,
    .form-group select:focus {
      outline: none;
      border-color: #00d4ff;
      box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.1);
    }

    /* DASHBOARD */
    .dashboard { display: none; }
    .dashboard.active { display: block; }

    .dashboard-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
      padding-bottom: 20px;
      border-bottom: 2px solid #e0e0e0;
    }

    .dashboard-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 25px;
      margin-bottom: 30px;
    }

    .dashboard-card {
      background: white;
      padding: 25px;
      border-radius: 10px;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
      border-left: 4px solid #00d4ff;
    }

    .dashboard-card h3 {
      color: #1e3c72;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 1px solid #e0e0e0;
    }

    .stats {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
    }

    .stat-item {
      background: #f8f9fa;
      padding: 15px;
      border-radius: 8px;
      text-align: center;
    }

    .stat-value {
      font-size: 28px;
      font-weight: 700;
      color: #00d4ff;
    }

    .stat-label {
      font-size: 12px;
      color: #999;
      margin-top: 5px;
    }

    /* TABLES */
    .table-responsive { overflow-x: auto; }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
    }

    table th {
      background: #f0f0f0;
      padding: 12px;
      text-align: left;
      font-weight: 600;
      color: #1e3c72;
      border-bottom: 2px solid #e0e0e0;
    }

    table td {
      padding: 12px;
      border-bottom: 1px solid #e0e0e0;
    }

    .status-pending { color: #ff9800; font-weight: 600; }
    .status-approved { color: #4caf50; font-weight: 600; }
    .status-rejected { color: #f44336; font-weight: 600; }

    .action-buttons {
      display: flex;
      gap: 10px;
    }

    /* NOTICES */
    .notice-item {
      background: #e3f2fd;
      padding: 15px;
      margin-bottom: 15px;
      border-radius: 8px;
      border-left: 4px solid #2196f3;
    }

    .notice-item strong {
      color: #1565c0;
      display: block;
      margin-bottom: 5px;
    }

    /* ALERTS */
    .alert {
      padding: 15px;
      margin-bottom: 20px;
      border-radius: 8px;
      display: none;
    }

    .alert.success {
      background: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
      display: block;
    }

    .alert.error {
      background: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
      display: block;
    }

    /* FOOTER */
    footer {
      background: rgba(0, 0, 0, 0.95);
      color: white;
      text-align: center;
      padding: 30px;
      margin-top: 50px;
    }

    @media (max-width: 768px) {
      .hero h1 { font-size: 32px; }
      .hero p { font-size: 16px; }
      .hero-buttons { flex-direction: column; }
      nav a { margin-left: 15px; }
      .dashboard-header { flex-direction: column; align-items: flex-start; }
      .section { margin: 10px 0; }
    }
  </style>
</head>
<body>
  <!-- HEADER -->
  <header>
    <div class="container">
      <div class="flex">
        <div class="logo">‚õΩ MSME Gas Agency</div>
        <nav>
          <a onclick="showSection('home')">Home</a>
          <a onclick="showSection('features')">Features</a>
          <a onclick="showSection('auth')">Login</a>
        </nav>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero">
    <div class="container">
      <h1>Online Gas Cylinder Booking</h1>
      <p>Fast, Secure, and Convenient Delivery to Your Doorstep</p>
      <div class="hero-buttons">
        <button class="btn btn-primary" onclick="showSection('auth')">Get Started Now</button>
        <button class="btn btn-secondary" onclick="showSection('features')">Learn More</button>
      </div>
    </div>
  </section>

  <!-- MAIN CONTENT -->
  <div class="container">
    <!-- HOME -->
    <section class="section active" id="home">
      <h2>Welcome to MSME Gas Agency</h2>
      <p style="text-align:center; margin-bottom:20px;">
        Book gas cylinders online with ease. Every registered user gets a yearly quota of 12 cylinders.
      </p>
      <div class="features">
        <div class="feature-card">
          <div class="feature-icon">‚ö°</div>
          <h3>24/7 Booking</h3>
          <p>Place your order anytime without waiting on phone calls.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">‚úÖ</div>
          <h3>Quick Approval</h3>
          <p>Admin reviews and processes bookings quickly.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üõ°Ô∏è</div>
          <h3>Secure System</h3>
          <p>Your details and booking history stay safe.</p>
        </div>
      </div>
    </section>

    <!-- FEATURES -->
    <section class="section" id="features">
      <h2>System Features</h2>
      <div class="features">
        <div class="feature-card">
          <div class="feature-icon">üìù</div>
          <h3>User Registration</h3>
          <p>Create an account and get 12 cylinders quota for the year.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üì¶</div>
          <h3>Online Booking</h3>
          <p>Book cylinders from your user dashboard any time.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üí≥</div>
          <h3>Payment Modes</h3>
          <p>Choose Cash on Delivery or Paytm.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üìä</div>
          <h3>Booking History</h3>
          <p>View all your previous bookings and statuses.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üì¢</div>
          <h3>Admin Notices</h3>
          <p>See important announcements from MSME Gas Agency.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üë®‚Äçüíº</div>
          <h3>Admin Panel</h3>
          <p>Admins can approve/reject bookings and post notices.</p>
        </div>
      </div>
    </section>

    <!-- AUTH -->
    <section class="section" id="auth">
      <h2>Account Access</h2>
      <div id="alertBox" class="alert"></div>
      <div class="auth-container">
        <!-- USER LOGIN -->
        <div class="auth-box" id="loginBox">
          <h2>User Login</h2>
          <form onsubmit="handleUserLogin(event)">
            <div class="form-group">
              <label>Email</label>
              <input type="email" id="loginEmail" required>
            </div>
            <div class="form-group">
              <label>Password</label>
              <input type="password" id="loginPassword" required>
            </div>
            <button type="submit" class="btn btn-primary">Login</button>
            <p style="margin-top:10px; text-align:center;">
              New user? <a style="color:#00d4ff; cursor:pointer;" onclick="toggleAuthForm()">Register here</a>
            </p>
          </form>
        </div>

        <!-- USER REGISTER -->
        <div class="auth-box" id="registerBox" style="display:none;">
          <h2>User Registration</h2>
          <form onsubmit="handleUserRegister(event)">
            <div class="form-group">
              <label>Full Name</label>
              <input type="text" id="regName" required>
            </div>
            <div class="form-group">
              <label>Email</label>
              <input type="email" id="regEmail" required>
            </div>
            <div class="form-group">
              <label>Phone</label>
              <input type="tel" id="regPhone" required>
            </div>
            <div class="form-group">
              <label>Address</label>
              <textarea id="regAddress" required></textarea>
            </div>
            <div class="form-group">
              <label>Password</label>
              <input type="password" id="regPassword" required>
            </div>
            <button type="submit" class="btn btn-primary">Sign Up</button>
            <p style="margin-top:10px; text-align:center;">
              Already registered? <a style="color:#00d4ff; cursor:pointer;" onclick="toggleAuthForm()">Login here</a>
            </p>
          </form>
        </div>

        <!-- ADMIN LOGIN -->
        <div class="auth-box">
          <h2>Admin Login</h2>
          <form onsubmit="handleAdminLogin(event)">
            <div class="form-group">
              <label>Email</label>
              <input type="email" id="adminEmail" value="admin@msmegagency.com">
            </div>
            <div class="form-group">
              <label>Password</label>
              <input type="password" id="adminPassword" value="admin123">
            </div>
            <button type="submit" class="btn btn-primary">Admin Login</button>
            <p style="margin-top:10px; font-size:12px; text-align:center;">
              Demo credentials: admin@msmegagency.com / admin123
            </p>
          </form>
        </div>
      </div>
    </section>

    <!-- USER DASHBOARD -->
    <section class="section dashboard" id="userDashboard">
      <div class="dashboard-header">
        <h2>User Dashboard</h2>
        <button class="btn btn-danger" onclick="logout()">Logout</button>
      </div>

      <div class="dashboard-grid">
        <!-- Account Info -->
        <div class="dashboard-card">
          <h3>üìã Account Information</h3>
          <div class="stats">
            <div class="stat-item">
              <div class="stat-value" id="userNameDisplay">User</div>
              <div class="stat-label">Name</div>
            </div>
            <div class="stat-item">
              <div class="stat-value" id="cylindersRemaining">12</div>
              <div class="stat-label">Cylinders Left</div>
            </div>
            <div class="stat-item">
              <div class="stat-value" id="userBalance">‚Çπ0</div>
              <div class="stat-label">Balance</div>
            </div>
            <div class="stat-item">
              <div class="stat-value" id="totalBookings">0</div>
              <div class="stat-label">Total Bookings</div>
            </div>
          </div>
        </div>

        <!-- Book Cylinder -->
        <div class="dashboard-card">
          <h3>üì¶ Book New Cylinder</h3>
          <form onsubmit="handleBooking(event)">
            <div class="form-group">
              <label>Delivery Address</label>
              <textarea id="deliveryAddress" required></textarea>
            </div>
            <div class="form-group">
              <label>Payment Mode</label>
              <select id="paymentMode" required>
                <option value="">Select Payment</option>
                <option value="COD">Cash on Delivery</option>
                <option value="Paytm">Paytm</option>
              </select>
            </div>
            <button type="submit" class="btn btn-primary">Book Now</button>
          </form>
        </div>

        <!-- Notices -->
        <div class="dashboard-card">
          <h3>üì¢ Latest Notices</h3>
          <div id="userNotices"></div>
        </div>
      </div>

      <!-- Booking History -->
      <div class="dashboard-card">
        <h3>üìä Booking History</h3>
        <div class="table-responsive">
          <table>
            <thead>
              <tr>
                <th>Booking ID</th>
                <th>Address</th>
                <th>Payment</th>
                <th>Status</th>
                <th>Date</th>
              </tr>
            </thead>
            <tbody id="bookingHistory">
              <tr><td colspan="5" style="text-align:center;">No bookings yet</td></tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- ADMIN DASHBOARD -->
    <section class="section dashboard" id="adminDashboard">
      <div class="dashboard-header">
        <h2>Admin Dashboard</h2>
        <button class="btn btn-danger" onclick="logout()">Logout</button>
      </div>

      <div class="dashboard-grid">
        <!-- Stats -->
        <div class="dashboard-card">
          <h3>üìä Statistics</h3>
          <div class="stats">
            <div class="stat-item">
              <div class="stat-value" id="totalUsers">0</div>
              <div class="stat-label">Total Users</div>
            </div>
            <div class="stat-item">
              <div class="stat-value" id="pendingCount">0</div>
              <div class="stat-label">Pending</div>
            </div>
            <div class="stat-item">
              <div class="stat-value" id="approvedCount">0</div>
              <div class="stat-label">Approved</div>
            </div>
            <div class="stat-item">
              <div class="stat-value" id="rejectedCount">0</div>
              <div class="stat-label">Rejected</div>
            </div>
          </div>
        </div>

        <!-- Post Notice -->
        <div class="dashboard-card">
          <h3>üì¢ Post Notice</h3>
          <form onsubmit="handleNotice(event)">
            <div class="form-group">
              <label>Notice Title</label>
              <input type="text" id="noticeTitle" required>
            </div>
            <div class="form-group">
              <label>Message</label>
              <textarea id="noticeBody" required></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Publish</button>
          </form>
        </div>
      </div>

      <!-- Pending Bookings -->
      <div class="dashboard-card">
        <h3>‚è≥ Pending Bookings</h3>
        <div class="table-responsive">
          <table>
            <thead>
              <tr>
                <th>Booking ID</th>
                <th>User Email</th>
                <th>Address</th>
                <th>Payment</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="pendingBookings">
              <tr><td colspan="5" style="text-align:center;">No pending bookings</td></tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>
  </div>

  <!-- FOOTER -->
  <footer>
    <p>&copy; 2025 MSME Gas Agency. All rights reserved.</p>
  </footer>

  <!-- SCRIPT -->
  <script>
    // Data (in-memory for demo; replace with backend/db for production)
    const users = {};
    const bookings = [];
    const notices = [];
    let currentUser = null;
    let bookingCounter = 5000;

    function showSection(id) {
      document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
      const el = document.getElementById(id);
      if (el) el.classList.add('active');
    }

    function showAlert(message, type = 'success') {
      const alertBox = document.getElementById('alertBox');
      if (!alertBox) return;
      alertBox.textContent = message;
      alertBox.className = 'alert ' + type;
      setTimeout(() => alertBox.className = 'alert', 4000);
    }

    function toggleAuthForm() {
      const loginBox = document.getElementById('loginBox');
      const registerBox = document.getElementById('registerBox');
      if (!loginBox || !registerBox) return;
      if (registerBox.style.display === 'none') {
        registerBox.style.display = 'block';
        loginBox.style.display = 'none';
      } else {
        registerBox.style.display = 'none';
        loginBox.style.display = 'block';
      }
    }

    // USER REGISTRATION
    function handleUserRegister(e) {
      e.preventDefault();
      const email = document.getElementById('regEmail').value;
      const password = document.getElementById('regPassword').value;
      const name = document.getElementById('regName').value;
      const phone = document.getElementById('regPhone').value;
      const address = document.getElementById('regAddress').value;

      if (users[email]) {
        showAlert('Email already registered!', 'error');
        return;
      }

      users[email] = {
        name, phone, address, password,
        cylinders: 12, balance: 0, bookings: []
      };

      showAlert('Registration successful! Please login.', 'success');
      document.getElementById('regName').value = '';
      document.getElementById('regEmail').value = '';
      document.getElementById('regPhone').value = '';
      document.getElementById('regAddress').value = '';
      document.getElementById('regPassword').value = '';
      toggleAuthForm();
    }

    // USER LOGIN
    function handleUserLogin(e) {
      e.preventDefault();
      const email = document.getElementById('loginEmail').value;
      const password = document.getElementById('loginPassword').value;

      if (!users[email] || users[email].password !== password) {
        showAlert('Invalid email or password!', 'error');
        return;
      }

      currentUser = { email, role: 'user' };
      loadUserDashboard();
      showSection('userDashboard');
      showAlert('Login successful!', 'success');
    }

    // ADMIN LOGIN
    function handleAdminLogin(e) {
      e.preventDefault();
      const email = document.getElementById('adminEmail').value;
      const password = document.getElementById('adminPassword').value;

      if (email !== 'admin@msmegagency.com' || password !== 'admin123') {
        showAlert('Invalid admin credentials!', 'error');
        return;
      }

      currentUser = { email, role: 'admin' };
      loadAdminDashboard();
      showSection('adminDashboard');
      showAlert('Admin login successful!', 'success');
    }

    // LOAD USER DASHBOARD
    function loadUserDashboard() {
      if (!currentUser) return;
      const user = users[currentUser.email];
      if (!user) return;

      document.getElementById('userNameDisplay').textContent = user.name;
      document.getElementById('cylindersRemaining').textContent = user.cylinders;
      document.getElementById('userBalance').textContent = '‚Çπ' + user.balance;
      document.getElementById('totalBookings').textContent = user.bookings.length;

      const noticeContainer = document.getElementById('userNotices');
      noticeContainer.innerHTML = '';
      if (notices.length === 0) {
        noticeContainer.innerHTML = '<p style="color:#777;">No notices</p>';
      } else {
        notices.forEach(n => {
          noticeContainer.innerHTML += '<div class="notice-item"><strong>' + n.title + '</strong><p>' + n.body + '</p></div>';
        });
      }

      const tbody = document.getElementById('bookingHistory');
      tbody.innerHTML = '';
      if (user.bookings.length === 0) {
        tbody.innerHTML = '<tr><td colspan="5" style="text-align:center;">No bookings yet</td></tr>';
      } else {
        user.bookings.forEach(b => {
          const cls = 'status-' + b.status.toLowerCase();
          tbody.innerHTML += '<tr>' +
            '<td>#' + b.id + '</td>' +
            '<td>' + b.address + '</td>' +
            '<td>' + b.payment + '</td>' +
            '<td><span class="' + cls + '">' + b.status + '</span></td>' +
            '<td>' + b.date + '</td>' +
          '</tr>';
        });
      }
    }

    // BOOK CYLINDER
    function handleBooking(e) {
      e.preventDefault();
      const user = users[currentUser.email];
      if (!user) return;

      if (user.cylinders <= 0) {
        showAlert('No cylinders left in your yearly quota!', 'error');
        return;
      }

      const address = document.getElementById('deliveryAddress').value;
      const payment = document.getElementById('paymentMode').value;

      const booking = {
        id: bookingCounter++,
        email: currentUser.email,
        address,
        payment,
        status: 'Pending',
        date: new Date().toLocaleDateString()
      };

      bookings.push(booking);
      user.bookings.push(booking);
      user.cylinders--;

      showAlert('Booking placed! ID: #' + booking.id, 'success');
      document.getElementById('deliveryAddress').value = '';
      document.getElementById('paymentMode').value = '';
      loadUserDashboard();
    }

    // LOAD ADMIN DASHBOARD
    function loadAdminDashboard() {
      document.getElementById('totalUsers').textContent = Object.keys(users).length;
      document.getElementById('pendingCount').textContent = bookings.filter(b => b.status === 'Pending').length;
      document.getElementById('approvedCount').textContent = bookings.filter(b => b.status === 'Approved').length;
      document.getElementById('rejectedCount').textContent = bookings.filter(b => b.status === 'Rejected').length;

      const tbody = document.getElementById('pendingBookings');
      tbody.innerHTML = '';
      const pending = bookings.filter(b => b.status === 'Pending');

      if (pending.length === 0) {
        tbody.innerHTML = '<tr><td colspan="5" style="text-align:center;">No pending bookings</td></tr>';
      } else {
        pending.forEach(b => {
          tbody.innerHTML += '<tr>' +
            '<td>#' + b.id + '</td>' +
            '<td>' + b.email + '</td>' +
            '<td>' + b.address.substring(0, 30) + '...</td>' +
            '<td>' + b.payment + '</td>' +
            '<td>' +
              '<div class="action-buttons">' +
                '<button class="btn btn-primary" onclick="approveBooking(' + b.id + ')">Approve</button>' +
                '<button class="btn btn-danger" onclick="rejectBooking(' + b.id + ')">Reject</button>' +
              '</div>' +
            '</td>' +
          '</tr>';
        });
      }
    }

    function approveBooking(id) {
      const b = bookings.find(x => x.id === id);
      if (!b) return;
      b.status = 'Approved';
      showAlert('Booking #' + id + ' approved.', 'success');
      loadAdminDashboard();
      if (currentUser && currentUser.role === 'user') loadUserDashboard();
    }

    function rejectBooking(id) {
      const b = bookings.find(x => x.id === id);
      if (!b) return;
      b.status = 'Rejected';
      const u = users[b.email];
      if (u) u.cylinders++;
      showAlert('Booking #' + id + ' rejected.', 'success');
      loadAdminDashboard();
      if (currentUser && currentUser.role === 'user') loadUserDashboard();
    }

    // POST NOTICE
    function handleNotice(e) {
      e.preventDefault();
      const title = document.getElementById('noticeTitle').value;
      const body = document.getElementById('noticeBody').value;
      notices.push({ title, body });
      document.getElementById('noticeTitle').value = '';
      document.getElementById('noticeBody').value = '';
      showAlert('Notice posted.', 'success');
      loadAdminDashboard();
    }

    // LOGOUT
    function logout() {
      currentUser = null;
      showSection('home');
      showAlert('Logged out successfully.', 'success');
    }

    document.addEventListener('DOMContentLoaded', () => {
      showSection('home');
    });
  </script>
</body>
</html>